const { Adapter } = require("./lib/adapter");

exports.builder = new Adapter.Builder().tx().shape((chunk) => {
  let { barcode, ...other } = chunk;
  return Buffer.from(
    `^XA
    ^CFS,30
    ^FO25,25^GB782,3,3^FS
    ^FO25,25^GB3,430,3^FS
    ^FO25,455^GB785,3,3^FS
    ^FO807,25^GB3,430,3^FS
    ${Object.keys(other)
      .map(
        (key, index) => `^FO60,${60 + index * 40}^FD${key}: ${other[key]}^FS`
      )
      .join("\n")}
    ^FO60,395^GFA,500,500,20,3KFR0EI01FK01FC003C00783JFEI04I01I01EI0FFEJ07FF003C00783JFEI06I018001E001IF8I0IFC03C00783JFCI0EI01E001E007IFC001IFE03C0078I01F8I0FI01F001E00FF0FE003F8FE03C0078I01FI01FI01F801E01FC03E007E01C03C0078I03EI01F8001FC01E01F001F00F8J03C0078I07EI03F8001FE01E03EI0F80FK03C0078I0FCI03FC001FF01E03CI0F81FK03C0078I0F8I07FC001FF81E07CI0781EK03C0078001FJ07BE001EFC1E078I07C1EK03E00F8003FJ0F9E001E7E1E078I03C1EK03JF8007EJ0F1F001E3F1E078I03C3EK03JF8007CI01F0F001E1F9E078I03C3EK03JF800F8I01F0F801E07DE07CI07C1EK03JF801FJ03F0F801E03FE03CI07C1EK03C007803FJ03IFC01E01FE03EI0F81FK03C007807EJ07IFE01E00FE01EI0F80FK03C007807CJ07IFE01E007E01F001F00F8J03C00780F8J0KF01E003E00FC03F007E01C03C00781F8J0F801F01E001E00FF1FE003FCFE03C00783JFC1FI0F81EI0E007IFC001IFE03C00783JFC1FI0F81EI06001IF8I0IFC03C00787JFC3EI07C1EI03I0FFEJ03FF003C0078KFC3EI07C1EM03F8K078003C0078^FS
    ^FO612,250^BQN,2,5^FDQA,${barcode}^FS
    ^XZ`,
    "ascii"
  );
});
